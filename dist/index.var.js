(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define("DragCellResize",[],n);else if(typeof exports==="object")exports["DragCellResize"]=n();else t["DragCellResize"]=n()})(window,function(){return function(e){var t={};function n(i){if(t[i]){return t[i].exports}var r=t[i]={i:i,l:false,exports:{}};e[i].call(r.exports,r,r.exports,n);r.l=true;return r.exports}n.m=e;n.c=t;n.d=function(e,t,i){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:i})}};n.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var i=Object.create(null);n.r(i);Object.defineProperty(i,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n.d(t,"DragCellResize",function(){return r});var i=new Map;var r=function(){function e(e,t,n){this.allowResize=false;this.offsetX=0;this.table=e;this.thead=e.querySelector("thead");if(this.thead){i.set(e,this);this.bindTheadEvent().appendDragLine();this.callback=t;this.custom=!!n}}e.prototype.bindTheadEvent=function(){var e=this;this.thead.onmousemove=function(t){var n=t.target;if(t.offsetX>=n.offsetWidth-5&&n.tagName==="TH"){n.style.cursor="col-resize";e.allowResize=true}else{n.style.cursor="default";e.allowResize=false}};this.thead.onmousedown=function(t){if(!e.allowResize)return;var n=t.target;e.cell=n;var i=n.offsetWidth;var r=e.table.getBoundingClientRect().left;var o=n.getBoundingClientRect().left;e.dragLeftLine.style.display="block";e.dragRightLine.style.display="block";e.dragLeftLine.style.left=o-r+"px";e.dragRightLine.style.left=t.clientX-r+"px";var l=t.clientX;e.table.onmousemove=function(t){e.table.style.cursor="col-resize";e.table.style.userSelect="none";e.dragRightLine.style.left=t.clientX-r+"px"};e.table.onmouseup=function(t){e.table.onmousemove=e.table.onmouseup=null;e.dragLeftLine.style.display="none";e.dragRightLine.style.display="none";e.allowResize=false;e.table.style.cursor="default";var r=t.clientX-l;e.offsetX=r;if(e.custom&&e.callback){e.callback(t,e)}else{n.style.minWidth=i+r+"px";e.callback&&e.callback(t,e)}}};return this};e.prototype.appendDragLine=function(){var e="  \n                    position: absolute;\n                    top: 0;\n                    bottom: 0;\n                    height: 100%;\n                    display:none;\n                    width: 2px;\n                    z-index:9999;\n                    border-left: 1px dotted #000;";this.dragLeftLine=document.createElement("div");this.dragRightLine=document.createElement("div");this.dragLeftLine.style.cssText=this.dragRightLine.style.cssText=e;this.table.style.position="relative";this.table.appendChild(this.dragLeftLine);this.table.appendChild(this.dragRightLine);return this};return e}();function o(e,t){if(i.get(e))return;var n=t.value,o=t.modifiers;var l=o===null||o===void 0?void 0:o.custom;if(l&&!n){throw new Error('当指令含有custom修饰符时,必须给指令传入一个函数.eg:v-drag-resize.custom="Function"')}if(n&&typeof n!=="function"){throw new Error("指令的值为一个函数")}new r(e,n,l)}t["default"]={install:function(e){e.directive("drag-cell-resize",{bind:o,componentUpdated:o})}}}])["DragCellResize"]});