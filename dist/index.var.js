(function e(t,i){if(typeof exports==="object"&&typeof module==="object")module.exports=i();else if(typeof define==="function"&&define.amd)define("DragCellResize",[],i);else if(typeof exports==="object")exports["DragCellResize"]=i();else t["DragCellResize"]=i()})(window,function(){return function(e){var t={};function i(n){if(t[n]){return t[n].exports}var l=t[n]={i:n,l:false,exports:{}};e[n].call(l.exports,l,l.exports,i);l.l=true;return l.exports}i.m=e;i.c=t;i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};i.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};i.t=function(e,t){if(t&1)e=i(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var l in e)i.d(n,l,function(t){return e[t]}.bind(null,l));return n};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=0)}([function(e,t,i){"use strict";i.r(t);i.d(t,"DragCellResize",function(){return l});var n=new Map;var l=function(){function e(e,t,i){this.allowResize=false;this.offsetX=0;this.resizedWidth=0;this.cellIndex=-1;this.table=e;this.thead=e.querySelector("thead");if(this.thead){n.set(e,this);this.bindTheadEvent().appendDragLine();if(t)this.callback=t;this.custom=!!i}}e.prototype.bindTheadEvent=function(){var e=this;this.thead.onmousemove=function(t){var i=t.target;if(t.offsetX>=i.offsetWidth-5&&i.tagName==="TH"){i.style.cursor="col-resize";e.allowResize=true}else{i.style.cursor="default";e.allowResize=false}};this.thead.onmousedown=function(t){if(!e.allowResize)return;var i=t.target;e.cell=i;var n=i.offsetWidth;var l=e.table.getBoundingClientRect().left;var r=i.getBoundingClientRect().left;e.dragLeftLine.style.display="block";e.dragRightLine.style.display="block";e.dragLeftLine.style.left=r-l+"px";e.dragRightLine.style.left=t.clientX-l+"px";var o=t.clientX;e.table.onmousemove=function(t){e.table.style.cursor="col-resize";e.dragRightLine.style.left=t.clientX-l+"px"};e.table.onmouseup=function(t){e.table.onmousemove=e.table.onmouseup=null;e.dragLeftLine.style.display="none";e.dragRightLine.style.display="none";e.allowResize=false;e.table.style.cursor="default";var l=t.clientX-o;e.offsetX=l;e.resizedWidth=n+l;var r=e.cell.parentElement.childNodes;e.cellIndex=[].slice.call(r).indexOf(e.cell);if(e.custom&&e.callback){e.callback(t,e)}else{i.style.width=n+l+"px";e.callback&&e.callback(t,e)}}};return this};e.prototype.appendDragLine=function(){var e="  \n                    position: absolute;\n                    top: 0;\n                    bottom: 0;\n                    height: 100%;\n                    display:none;\n                    width: 2px;\n                    z-index:9999;\n                    border-left: 1px dotted #000;";var t=this.table.querySelectorAll(".dragLine");if(t.length>0){this.dragLeftLine=t[0];this.dragRightLine=t[1]}else{var i=document.createElement("div");i.setAttribute("class","dragLine");i.style.cssText=e;this.dragLeftLine=i;this.dragRightLine=i.cloneNode(true);this.table.appendChild(this.dragLeftLine);this.table.appendChild(this.dragRightLine)}this.table.style.position="relative"};return e}();function r(e,t){var i=n.get(e);if(i){n.delete(e);i=null}var r=t.value,o=t.modifiers;var a=o===null||o===void 0?void 0:o.custom;if(a&&!r){throw new Error('当指令含有custom修饰符时,必须给指令传入一个函数.eg:v-drag-resize.custom="Function"')}if(r&&typeof r!=="function"){throw new Error("指令的值为一个函数")}new l(e,r,a)}t["default"]={install:function(e){e.directive("drag-cell-resize",{bind:r,componentUpdated:r})}}}])["DragCellResize"]});