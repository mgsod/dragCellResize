(function e(t,i){if(typeof exports==="object"&&typeof module==="object")module.exports=i();else if(typeof define==="function"&&define.amd)define("DragCellResize",[],i);else if(typeof exports==="object")exports["DragCellResize"]=i();else t["DragCellResize"]=i()})(window,function(){return function(e){var t={};function i(n){if(t[n]){return t[n].exports}var l=t[n]={i:n,l:false,exports:{}};e[n].call(l.exports,l,l.exports,i);l.l=true;return l.exports}i.m=e;i.c=t;i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};i.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};i.t=function(e,t){if(t&1)e=i(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var l in e)i.d(n,l,function(t){return e[t]}.bind(null,l));return n};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=0)}([function(e,t,i){"use strict";i.r(t);i.d(t,"DragCellResize",function(){return l});let n=new Map;class l{constructor(e,t,i){this.allowResize=false;this.offsetX=0;this.table=e;this.thead=e.querySelector("thead");if(this.thead){n.set(e,this);this.bindTheadEvent().appendDragLine();this.callback=t;this.custom=!!i}}bindTheadEvent(){this.thead.onmousemove=(e=>{let t=e.target;if(e.offsetX>=t.offsetWidth-5&&t.tagName==="TH"){t.style.cursor="col-resize";this.allowResize=true}else{t.style.cursor="default";this.allowResize=false}});this.thead.onmousedown=(e=>{if(!this.allowResize)return;let t=e.target;this.cell=t;let i=t.offsetWidth;let n=this.table.getBoundingClientRect().left;let l=t.getBoundingClientRect().left;this.dragLeftLine.style.display="block";this.dragRightLine.style.display="block";this.dragLeftLine.style.left=`${l-n}px`;this.dragRightLine.style.left=`${e.clientX-n}px`;let s=e.clientX;this.table.onmousemove=(e=>{this.table.style.cursor="col-resize";this.dragRightLine.style.left=`${e.clientX-n}px`});this.table.onmouseup=(e=>{this.table.onmousemove=this.table.onmouseup=null;this.dragLeftLine.style.display="none";this.dragRightLine.style.display="none";this.allowResize=false;this.table.style.cursor="default";let n=e.clientX-s;if(this.custom&&this.callback){this.offsetX=n;this.callback(e,this)}else{t.style.width=i+n+"px";this.callback&&this.callback()}})});return this}appendDragLine(){let e=`  \n                    position: absolute;\n                    top: 0;\n                    bottom: 0;\n                    height: 100%;\n                    display:none;\n                    width: 2px;\n                    z-index:9999;\n                    border-left: 1px dotted #000;`;this.dragLeftLine=document.createElement("div");this.dragRightLine=document.createElement("div");this.dragLeftLine.style.cssText=this.dragRightLine.style.cssText=e;this.table.style.position="relative";this.table.appendChild(this.dragLeftLine);this.table.appendChild(this.dragRightLine);return this}}function s(e,t){if(n.get(e))return;let{value:i,modifiers:s}=t;let o=s===null||s===void 0?void 0:s.custom;if(o&&!i){throw new Error('当指令含有custom修饰符时,必须给指令传入一个函数.eg:v-drag-resize.custom="Function"')}if(i&&typeof i!=="function"){throw new Error("指令的值为一个函数")}new l(e,i,o)}t["default"]={install:function(e){e.directive("drag-cell-resize",{bind:s,componentUpdated:s})}}}])["DragCellResize"]});